# 图片工具箱 - 功能扩展计划

## 一、菜单结构重构

### 当前结构 (问题：太分散)
```
格式转换
├── WebP → PNG
├── PNG → WebP
├── PNG → JPG
├── JPG → PNG
└── 批量转换

优化工具
├── 图片压缩
├── 尺寸调整
└── 批量裁切

特殊工具
├── ICO 生成器
└── GIF 帧提取
```

### 新结构 (合并同类项)
```
格式转换
├── 图片格式转换 (合并原来4个，一个页面选源格式+目标格式)
├── SVG → PNG（放到格式转换里面 属于一个类型）
└── PDF → 图片jpg/png（放到格式转换里面 属于一个类型）

图片编辑
├── 尺寸调整
├── 批量裁切
├── 旋转/翻转
├── 亮度/对比度
└── 黑白/去色

水印工具
├── 文字水印
└── 图片水印

拼图工具
├── 长图拼接
└── 宫格拼图

取色工具
└── 拾色器

视频工具
└── 视频截图

动图工具
├── GIF 帧提取 (已有)
├── ICO 生成器 (已有)
└── APNG动图制作
```

---

## 二、功能清单 & 优先级

### P0 - 菜单重构 (基础设施)
- [ ] 重新设计侧边栏分类
- [ ] 合并图片格式转换为单页面
- [ ] 调整 ToolConfig 数据结构

### P1 - 高频刚需
- [ ] **旋转/翻转** (90°/180°/任意角度/水平镜像/垂直镜像)
- [ ] **亮度/对比度调整** (滑块控制)
- [ ] **黑白/去色** (一键效果)

### P2 - 水印 & 拼图
- [ ] **文字水印** (字体/颜色/透明度/位置)
- [ ] **图片水印** (Logo 上传/平铺或定位)
- [ ] **长图拼接** (垂直拼接多张图)
- [ ] **宫格拼图** (2x2, 3x3, 自定义)

### P3 - 格式扩展
- [ ] **SVG → PNG** (支持设置输出尺寸)
- [ ] **PDF → 图片** (每页转一张 PNG/JPG)

### P4 - 视频 & 动图
- [ ] **视频截图** (播放视频，点击截取当前帧)
- [ ] **APNG 制作** (多张 PNG 合成动态 PNG)

### P5 - 小工具
- [ ] **拾色器** (上传图片，点击吸取颜色，显示 HEX/RGB)

---

## 三、技术依赖

| 功能 | 需要引入的库 |
|------|-------------|
| PDF → 图片 | `pdf.js` (Mozilla 官方) |
| APNG 制作 | `upng-js` |
| 其他所有功能 | 无额外依赖，纯 Canvas API |

---

## 四、待确认事项

1. **菜单分类方式**：上面的分类是否合理？是否需要调整？
2. **优先级排序**：P1-P5 的顺序是否符合您的预期？
3. **是否需要 "图片压缩"**：现有功能保留还是合并到其他地方？图片压缩还需要 放图片编辑里面

---

请确认或修改后，我将开始执行。
